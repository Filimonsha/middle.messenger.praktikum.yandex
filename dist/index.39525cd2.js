function $parcel$export(e,t,a,n){Object.defineProperty(e,t,{get:a,set:n,enumerable:!0,configurable:!0})}var $parcel$global="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},$parcel$modules={},$parcel$inits={},parcelRequire=$parcel$global.parcelRequire94c2;null==parcelRequire&&(parcelRequire=function(e){if(e in $parcel$modules)return $parcel$modules[e].exports;if(e in $parcel$inits){var t=$parcel$inits[e];delete $parcel$inits[e];var a={id:e,exports:{}};return $parcel$modules[e]=a,t.call(a.exports,a,a.exports),a.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n},parcelRequire.register=function(e,t){$parcel$inits[e]=t},$parcel$global.parcelRequire94c2=parcelRequire),parcelRequire.register("5TR95",(function(module,exports){$parcel$export(module.exports,"Template",(()=>Template));var $gQ5XG=parcelRequire("gQ5XG"),$1Zm4c=parcelRequire("1Zm4c");class Template{constructor(e){this.initialTemplate=e,this.modifyTemplate=this.initialTemplate}compile(e){const t=this.foundDynamicRegexp(e);return this.modifyTemplate=this.initialTemplate,t}getProperty(e,t){const a=t.split(".");let n,s=e;for(const e of a){if(n=s[e],!n)return;s=n}return n}foundDynamicRegexp(e){this.renderSimpleVariables(e);return $1Zm4c.RegexpHandler.handAllFoundRegexp($gQ5XG.TEMPLATE_DYNAMIC_REGEXP,this.modifyTemplate,((e,t)=>{e.match($gQ5XG.TEMPLATE_IF_THEN_REGEXP)&&this.renderCondition(e,t)})),this.replaceAllDynamicRegExp(),this.modifyTemplate}replaceAllDynamicRegExp(){$1Zm4c.RegexpHandler.handAllFoundRegexp($gQ5XG.TEMPLATE_DYNAMIC_REGEXP,this.modifyTemplate,((e,t)=>this.modifyTemplate=this.modifyTemplate.replace(t,e)),!1)}renderSimpleVariables(e){$1Zm4c.RegexpHandler.handAllFoundRegexp($gQ5XG.TEMPLATE_VARIABLES_REGEXP,this.modifyTemplate,((t,a)=>{const n=this.getProperty(e,t);if(t){const e=Array.isArray(n)&&n.every((e=>"string"==typeof e&&e.trim().startsWith("<div id=component-")));this.modifyTemplate=this.modifyTemplate.replace(new RegExp(a,"gi"),e?n.join(""):n)}}))}renderCondition(foundedDynamicReg,foundedMatch){const foundedConditionArgs=$gQ5XG.TEMPLATE_IF_THEN_REGEXP.exec(foundedDynamicReg),condition=eval(foundedConditionArgs[1]),ifSuccessThen=foundedConditionArgs[2],ifFalseThen=foundedConditionArgs[3];condition?this.modifyTemplate=this.modifyTemplate.replace(foundedMatch,ifSuccessThen):ifFalseThen&&(this.modifyTemplate=this.modifyTemplate.replace(foundedMatch,""))}}})),parcelRequire.register("gQ5XG",(function(e,t){$parcel$export(e.exports,"TEMPLATE_DYNAMIC_REGEXP",(()=>a)),$parcel$export(e.exports,"TEMPLATE_IF_THEN_REGEXP",(()=>n)),$parcel$export(e.exports,"TEMPLATE_VARIABLES_REGEXP",(()=>s));const a=new RegExp(/\{\{([\s\S]*?)\}\}/gi),n=new RegExp(/if\((.*?)\)then{(.*?)}(else{(.*?)})?/gi),s=new RegExp(/!(.*?)!/gi)})),parcelRequire.register("1Zm4c",(function(e,t){$parcel$export(e.exports,"RegexpHandler",(()=>a));class a{static handAllFoundRegexp(e,t,a,n=!0){let s=null;for(;s=e.exec(t);){a(n?s[1].split(" ").join(""):s[1],s[0])}}}}));class $310a9b1b34a15572$export$5087227eb54526{listeners={};constructor(){}subscribeCallbackOnEvent(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}unSubscribeCallbackFromEvent(e,t){if(!this.listeners[e])throw new Error("This event does not exist");this.listeners[e]=this.listeners[e].filter((e=>e!==t))}notify(e,...t){if(!this.listeners[e])throw new Event(`Нет события: ${e}`);this.listeners[e].forEach((e=>{e(...t)}))}}let $5ebc5a4a6c8b8bad$export$ada873a34909da65;var Events;Events=$5ebc5a4a6c8b8bad$export$ada873a34909da65||($5ebc5a4a6c8b8bad$export$ada873a34909da65={}),Events.INIT="init",Events.COMPONENT_DID_MOUNT="ComponentDidMount",Events.COMPONENT_RENDER="ComponentRender",Events.COMPONENT_DID_UNMOUNT="ComponentDidUnmount",Events.COMPONENT_DID_UPDATE="ComponentDidUpdate";class $58d97bb0b85e1551$export$d96a8827a60d6b69{eventBus=new $310a9b1b34a15572$export$5087227eb54526;componentId="component-"+1e3*Math.random();constructor(e,t){this.template=e,this.componentProps=t;const{children:a,simpleState:n}=this.findChildrenAndState(t.state);this.componentChildren=a,this.componentSimpleState=n,a&&this.createDummyChildren(),this.makeStateProxy(),this.registerEvents(),this.eventBus.notify($5ebc5a4a6c8b8bad$export$ada873a34909da65.INIT)}registerEvents=()=>{this.eventBus.subscribeCallbackOnEvent($5ebc5a4a6c8b8bad$export$ada873a34909da65.INIT,this.init.bind(this)),this.eventBus.subscribeCallbackOnEvent($5ebc5a4a6c8b8bad$export$ada873a34909da65.COMPONENT_DID_MOUNT,this.componentDidMount.bind(this)),this.eventBus.subscribeCallbackOnEvent($5ebc5a4a6c8b8bad$export$ada873a34909da65.COMPONENT_RENDER,this.render.bind(this)),this.eventBus.subscribeCallbackOnEvent($5ebc5a4a6c8b8bad$export$ada873a34909da65.COMPONENT_DID_UPDATE,this.componentDidUpdate.bind(this))};makeStateProxy=()=>{const e={set:(e,t,a)=>(e[t]=a,this.eventBus.notify($5ebc5a4a6c8b8bad$export$ada873a34909da65.COMPONENT_DID_UPDATE),!0)};this.componentState=new Proxy(this.componentProps.state,e)};init=()=>{(()=>{this.element=document.createElement("div")})(),this.eventBus.notify($5ebc5a4a6c8b8bad$export$ada873a34909da65.COMPONENT_RENDER)};componentDidMount(e){console.log("component did mount")}componentDidUpdate(){console.log(" Component Did update!"),this.eventBus.notify($5ebc5a4a6c8b8bad$export$ada873a34909da65.COMPONENT_RENDER)}render=()=>{this.element&&this.componentProps.events&&Object.keys(this.componentProps.events).forEach((e=>{this.element.removeEventListener(e,this.componentProps.events[e])})),this.element.innerHTML=this.template.compile(this.componentState),this.element=this.element.children[0],console.log(this.element.children),this.componentChildren&&this.renderChildren(),this.componentProps.events&&Object.keys(this.componentProps.events).forEach((e=>{this.element.addEventListener(e,this.componentProps.events[e].bind(this))}))};findChildrenAndState=e=>{const t={},a={};return Object.entries(e).forEach((([e,n])=>{Array.isArray(n)?n.every((e=>e instanceof $58d97bb0b85e1551$export$d96a8827a60d6b69))&&(t[e]=[],n.forEach(((a,n)=>{t[e].push(a)}))):n instanceof $58d97bb0b85e1551$export$d96a8827a60d6b69?t[e]=n:a[e]=n})),{children:t,simpleState:a}};createDummyChildren(){Object.entries(this.componentChildren).forEach((e=>{const t=e[0],a=e[1];if(Array.isArray(a))a.forEach(((e,a)=>{const n=`\n                <div id=${e.componentId}></div>\n            `;this.componentProps.state[t][a]=n}));else{const e=`\n                <div id=${a.componentId}></div>\n            `;this.componentProps.state[t]=e}}))}renderChildren(){const e=e=>{const t=`#${e.componentId.toString()}`,a=this.element.querySelector(t);if(!a)throw new Error("In template didnt find children layout!");console.error(a),a.replaceWith(e.getCompiledElement())};Object.values(this.componentChildren).forEach((t=>{Array.isArray(t)?t.forEach(e):e(t)}))}updateState=(e,t)=>{this.componentState[e]=t};getState=()=>({...this.componentState});getComponentChildren=()=>({...this.componentChildren});getCompiledElement=()=>this.element;renderDom=e=>{document.querySelector(e).appendChild(this.element),this.eventBus.notify($5ebc5a4a6c8b8bad$export$ada873a34909da65.COMPONENT_DID_MOUNT)}}var $5TR95=parcelRequire("5TR95");const $11532e0df6b9e285$export$e13744a440bffbe5=new(0,$5TR95.Template)('\n   <div class="chat">\n      {{!Sidebar!}}\n      {{!Main!}}\n\n   </div>\n   \n');var $5TR95=parcelRequire("5TR95");const $bb5f21cd59be47ab$export$69e09d1f57cb718b=new(0,$5TR95.Template)('\n<div class="sidebar">\n        <div class="chat_chats">\n            {{!chatItems!}}\n        </div>\n    <input type="text" class="sidebar_search">\n</div>\n');var $5TR95=parcelRequire("5TR95");const $272fb55643977e8b$export$b3f039d6d35e940d=new(0,$5TR95.Template)('\n        <div class="chat-item">\n        <div class="chat-item_img">\n                        <img src="https://www.google.com/url?sa=i&url=https%3A%2F%2Favatarko.ru%2Fkartinka%2F32117&psig=AOvVaw0qWlT3XgCtRGL8gijD5Mev&ust=1665438264092000&source=images&cd=vfe&ved=0CAsQjRxqFwoTCMDNrZKP1PoCFQAAAAAdAAAAABAE" alt="avatar">\n        </div>\n        <div class="chat-item_desc">\n            <div class="chat-item_msg">\n                <span class="chat-item_user-name">{{ !userName!}}</span>\n                <span class="chat-item_last-msg">{{ !lastMsg! }}</span>\n            </div>\n        </div>\n        <div class="chat-item_info">\n            <div class="chat-item_time">\n                {{ !lastMsgTime! }}\n            </div>\n            <div class="chat-item_notification">\n                {{ !countOfNotification! }}\n            </div>\n        </div>\n    </div>\n    ');class $6cd780e85c39d65e$export$86e6771ca9311520 extends $58d97bb0b85e1551$export$d96a8827a60d6b69{constructor(e){super($272fb55643977e8b$export$b3f039d6d35e940d,e)}}const $178e729f51d6a853$var$chats=[{imgSrc:"",userName:"Oleg",lastMsg:" some long text or not long a dnot know u know what i mean",lastMsgTime:`${new Date(12414).getHours()}:20`,countOfNotification:2},{imgSrc:"",userName:"Oleg",lastMsg:" some long text or not long a dnot know u know what i mean",lastMsgTime:`${new Date(12414).getHours()}:20`,countOfNotification:2},{imgSrc:"",userName:"Oleg",lastMsg:" some long text or not long a dnot know u know what i mean some long text or not long a dnot know u know what i meansome long text or not long a dnot know u know what i mean",lastMsgTime:`${new Date(12414).getHours()}:20`,countOfNotification:2},{imgSrc:"",userName:"Oleg",lastMsg:" some long text or not long a dnot know u know what i mean",lastMsgTime:`${new Date(12414).getHours()}:20`,countOfNotification:2},{imgSrc:"",userName:"Oleg",lastMsg:" some long text or not long a dnot know u know what i mean",lastMsgTime:`${new Date(12414).getHours()}:20`,countOfNotification:2},{imgSrc:"",userName:"Oleg",lastMsg:" some long text or not long a dnot know u know what i mean",lastMsgTime:`${new Date(12414).getHours()}:20`,countOfNotification:2}],$178e729f51d6a853$var$sidebarState={state:{chatItems:$178e729f51d6a853$var$chats.map((e=>new $6cd780e85c39d65e$export$86e6771ca9311520({state:e})))}};class $178e729f51d6a853$export$1ba59dacbcbf90fe extends $58d97bb0b85e1551$export$d96a8827a60d6b69{constructor(e){super($bb5f21cd59be47ab$export$69e09d1f57cb718b,e)}}const $178e729f51d6a853$var$SidebarComponent=new $178e729f51d6a853$export$1ba59dacbcbf90fe($178e729f51d6a853$var$sidebarState);var $178e729f51d6a853$export$2e2bcd8739ae039=$178e729f51d6a853$var$SidebarComponent,$5TR95=parcelRequire("5TR95");const $495e1004a078d1a3$export$e26c86124a0f221e=new(0,$5TR95.Template)('\n       <div class="main">\n        {{ !Header! }}\n        {{ !Messages! }}\n        {{ !ControlPanel! }}\n        </div>\n');var $5TR95=parcelRequire("5TR95");const $e3cc30ad4998b392$export$cbe66ba5a24d87ce=()=>'\n<svg width="3" height="16" viewBox="0 0 3 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<circle cx="1.5" cy="2" r="1.5" fill="#1E1E1E"/>\n<circle cx="1.5" cy="8" r="1.5" fill="#1E1E1E"/>\n<circle cx="1.5" cy="14" r="1.5" fill="#1E1E1E"/>\n</svg>\n\n',$7f0c9b69b6b23869$export$dbd39ed0fa3f5b27=new(0,$5TR95.Template)(`\n        <div class="header">\n        <div class="header_user">\n            <div class="header_avatar">\n                <img src="" alt="">\n            </div>\n            <div class="header_name">\n                <span>\n                    {{ !userName! }}\n                </span>\n            </div>\n        </div>\n        <button class="btn header_optionsBtn">\n            ${$e3cc30ad4998b392$export$cbe66ba5a24d87ce()}\n        </button>\n    </div>\n`);class $24b403cacf9d8a6b$var$Header extends $58d97bb0b85e1551$export$d96a8827a60d6b69{constructor(e){super($7f0c9b69b6b23869$export$dbd39ed0fa3f5b27,e)}}const $24b403cacf9d8a6b$export$5be6d1e4b3a88225=new $24b403cacf9d8a6b$var$Header({state:{userName:"Oleg"}});var $5TR95=parcelRequire("5TR95");const $e9b848a1f6289bf1$export$ae3cc75cad1f82d3=new(0,$5TR95.Template)('\n    <div class="messages"> \n        {{ !messages! }}\n    </div>\n');var $5TR95=parcelRequire("5TR95");const $74a8eb5b4ec4a09d$export$58500ae1f4c10db9=new(0,$5TR95.Template)('\n            <div class="message {{ if ( !user! ==="home") then {message__my} }}">\n            <div class="message_info">\n                <p class="message_time"></p>\n                <div class="message_check">\n                    check\n                </div>\n            </div>\n            <p class="message_text">\n                {{ !messageText! }}\n            </p>\n            </div>\n    ');class $73cc724f7fdebf93$export$f69c19e57285b83a extends $58d97bb0b85e1551$export$d96a8827a60d6b69{constructor(e){super($74a8eb5b4ec4a09d$export$58500ae1f4c10db9,e)}}const $c432d296460a781c$var$messagesData=[{user:'"user"',messageText:"Привет! Смотри, тут всплыл интересный кусок лунной космической истории — НАСА в какой-то момент попросила Хассельблад адаптировать модель SWC для полетов на Луну. Сейчас мы все знаем что астронавты летали с моделью 500 EL — и к слову говоря, все тушки этих камер все еще находятся на поверхности Луны, так как астронавты с собой забрали только кассеты с пленкой Хассельблад в итоге адаптировал SWC для космоса, но что-то пошло не так и на ракету они так никогда и не попали. Всего их было произведено 25 штук, одну из них недавно продали на аукционе за 45000 евро."},{user:'"home"',messageText:"Hello!"},{user:'"some"',messageText:"Hello!"}],$c432d296460a781c$var$MessagesProps={state:{messages:$c432d296460a781c$var$messagesData.map((e=>new $73cc724f7fdebf93$export$f69c19e57285b83a({state:e})))},text:"hello"};class $c432d296460a781c$var$Messages extends $58d97bb0b85e1551$export$d96a8827a60d6b69{constructor(e){super($e9b848a1f6289bf1$export$ae3cc75cad1f82d3,e)}}const $c432d296460a781c$export$6423fa4ca20a8fff=new $c432d296460a781c$var$Messages($c432d296460a781c$var$MessagesProps);var $5TR95=parcelRequire("5TR95");const $f1a3ca96d6ff8a5a$export$cb39c6bd5df727ba=new(0,$5TR95.Template)('\n    <div class="control-panel">\n        <form class="control-panel_form">\n        <button class="control-panel_btn">\n            Option\n        </button>\n            <input type="text">\n            <button type="submit">\n                отпр\n            </button>\n        </form>\n    </div>\n');class $b8cbb8f602fa81d6$export$41daf28bb61ded76 extends $58d97bb0b85e1551$export$d96a8827a60d6b69{constructor(e){super($f1a3ca96d6ff8a5a$export$cb39c6bd5df727ba,e)}}const $b8cbb8f602fa81d6$export$76da6b629ee357=new $b8cbb8f602fa81d6$export$41daf28bb61ded76({state:{}}),$1c1a8ff67adc843d$var$mainProps={state:{Header:$24b403cacf9d8a6b$export$5be6d1e4b3a88225,Messages:$c432d296460a781c$export$6423fa4ca20a8fff,ControlPanel:$b8cbb8f602fa81d6$export$76da6b629ee357}};class $1c1a8ff67adc843d$var$Main extends $58d97bb0b85e1551$export$d96a8827a60d6b69{constructor(e){super($495e1004a078d1a3$export$e26c86124a0f221e,e)}}const $1c1a8ff67adc843d$export$5ff9e46e0b0ff25f=new $1c1a8ff67adc843d$var$Main($1c1a8ff67adc843d$var$mainProps),$c39deeedf0bcc8c4$var$chatLayoutProps={state:{Sidebar:$178e729f51d6a853$export$2e2bcd8739ae039,Main:$1c1a8ff67adc843d$export$5ff9e46e0b0ff25f}};class $c39deeedf0bcc8c4$var$ChatLayout extends $58d97bb0b85e1551$export$d96a8827a60d6b69{constructor(e){super($11532e0df6b9e285$export$e13744a440bffbe5,e)}}const $c39deeedf0bcc8c4$export$7b5ee86237a00352=new $c39deeedf0bcc8c4$var$ChatLayout($c39deeedf0bcc8c4$var$chatLayoutProps);$c39deeedf0bcc8c4$export$7b5ee86237a00352.renderDom("#CHAT");
//# sourceMappingURL=index.39525cd2.js.map
