(()=>{function $parcel$export(e,t,a,n){Object.defineProperty(e,t,{get:a,set:n,enumerable:!0,configurable:!0})}var $parcel$global="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},$parcel$modules={},$parcel$inits={},parcelRequire=$parcel$global.parcelRequire94c2;null==parcelRequire&&(parcelRequire=function(e){if(e in $parcel$modules)return $parcel$modules[e].exports;if(e in $parcel$inits){var t=$parcel$inits[e];delete $parcel$inits[e];var a={id:e,exports:{}};return $parcel$modules[e]=a,t.call(a.exports,a,a.exports),a.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n},parcelRequire.register=function(e,t){$parcel$inits[e]=t},$parcel$global.parcelRequire94c2=parcelRequire),parcelRequire.register("lsS9H",(function(module,exports){$parcel$export(module.exports,"Template",(()=>Template));var $dXPMl=parcelRequire("dXPMl"),$531dJ=parcelRequire("531dJ");class Template{constructor(e){this.initialTemplate=e,this.modifyTemplate=this.initialTemplate}compile(e){const t=this.foundDynamicRegexp(e);return this.modifyTemplate=this.initialTemplate,t}getProperty(e,t){const a=t.split(".");let n,s=e;for(const e of a){if(n=s[e],!n)return;s=n}return n}foundDynamicRegexp(e){this.renderSimpleVariables(e);return $531dJ.RegexpHandler.handAllFoundRegexp($dXPMl.TEMPLATE_DYNAMIC_REGEXP,this.modifyTemplate,((e,t)=>{e.match($dXPMl.TEMPLATE_IF_THEN_REGEXP)&&this.renderCondition(e,t)})),this.replaceAllDynamicRegExp(),this.modifyTemplate}replaceAllDynamicRegExp(){$531dJ.RegexpHandler.handAllFoundRegexp($dXPMl.TEMPLATE_DYNAMIC_REGEXP,this.modifyTemplate,((e,t)=>this.modifyTemplate=this.modifyTemplate.replace(t,e)),!1)}renderSimpleVariables(e){$531dJ.RegexpHandler.handAllFoundRegexp($dXPMl.TEMPLATE_VARIABLES_REGEXP,this.modifyTemplate,((t,a)=>{const n=this.getProperty(e,t);if(t){const e=Array.isArray(n)&&n.every((e=>"string"==typeof e&&e.trim().startsWith("<div id=component-")));this.modifyTemplate=this.modifyTemplate.replace(new RegExp(a,"gi"),e?n.join(""):n)}}))}renderCondition(foundedDynamicReg,foundedMatch){const foundedConditionArgs=$dXPMl.TEMPLATE_IF_THEN_REGEXP.exec(foundedDynamicReg),condition=eval(foundedConditionArgs[1]),ifSuccessThen=foundedConditionArgs[2],ifFalseThen=foundedConditionArgs[3];condition?this.modifyTemplate=this.modifyTemplate.replace(foundedMatch,ifSuccessThen):ifFalseThen&&(this.modifyTemplate=this.modifyTemplate.replace(foundedMatch,""))}}})),parcelRequire.register("dXPMl",(function(e,t){$parcel$export(e.exports,"TEMPLATE_DYNAMIC_REGEXP",(()=>a)),$parcel$export(e.exports,"TEMPLATE_IF_THEN_REGEXP",(()=>n)),$parcel$export(e.exports,"TEMPLATE_VARIABLES_REGEXP",(()=>s));const a=new RegExp(/\{\{([\s\S]*?)\}\}/gi),n=new RegExp(/if\((.*?)\)then{(.*?)}(else{(.*?)})?/gi),s=new RegExp(/!(.*?)!/gi)})),parcelRequire.register("531dJ",(function(e,t){$parcel$export(e.exports,"RegexpHandler",(()=>a));class a{static handAllFoundRegexp(e,t,a,n=!0){let s=null;for(;s=e.exec(t);){a(n?s[1].split(" ").join(""):s[1],s[0])}}}}));class $c23ea2dea9cf40e7$export$5087227eb54526{listeners={};constructor(){}subscribeCallbackOnEvent(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}unSubscribeCallbackFromEvent(e,t){if(!this.listeners[e])throw new Error("This event does not exist");this.listeners[e]=this.listeners[e].filter((e=>e!==t))}notify(e,...t){if(!this.listeners[e])throw new Event(`Нет события: ${e}`);this.listeners[e].forEach((e=>{e(...t)}))}}let $7d5511ac354dcb04$export$ada873a34909da65;var Events;Events=$7d5511ac354dcb04$export$ada873a34909da65||($7d5511ac354dcb04$export$ada873a34909da65={}),Events.INIT="init",Events.COMPONENT_DID_MOUNT="ComponentDidMount",Events.COMPONENT_RENDER="ComponentRender",Events.COMPONENT_DID_UNMOUNT="ComponentDidUnmount",Events.COMPONENT_DID_UPDATE="ComponentDidUpdate";class $2eae050ae67d4152$export$d96a8827a60d6b69{eventBus=new $c23ea2dea9cf40e7$export$5087227eb54526;componentId="component-"+1e3*Math.random();constructor(e,t){this.template=e,this.componentProps=t;const{children:a,simpleState:n}=this.findChildrenAndState(t.state);this.componentChildren=a,this.componentSimpleState=n,a&&this.createDummyChildren(),this.makeStateProxy(),this.registerEvents(),this.eventBus.notify($7d5511ac354dcb04$export$ada873a34909da65.INIT)}registerEvents=()=>{this.eventBus.subscribeCallbackOnEvent($7d5511ac354dcb04$export$ada873a34909da65.INIT,this.init.bind(this)),this.eventBus.subscribeCallbackOnEvent($7d5511ac354dcb04$export$ada873a34909da65.COMPONENT_DID_MOUNT,this.componentDidMount.bind(this)),this.eventBus.subscribeCallbackOnEvent($7d5511ac354dcb04$export$ada873a34909da65.COMPONENT_RENDER,this.render.bind(this)),this.eventBus.subscribeCallbackOnEvent($7d5511ac354dcb04$export$ada873a34909da65.COMPONENT_DID_UPDATE,this.componentDidUpdate.bind(this))};makeStateProxy=()=>{const e={set:(e,t,a)=>(e[t]=a,this.eventBus.notify($7d5511ac354dcb04$export$ada873a34909da65.COMPONENT_DID_UPDATE),!0)};this.componentState=new Proxy(this.componentProps.state,e)};init=()=>{(()=>{this.element=document.createElement("div")})(),this.eventBus.notify($7d5511ac354dcb04$export$ada873a34909da65.COMPONENT_RENDER)};componentDidMount(e){console.log("component did mount")}componentDidUpdate(){console.log(" Component Did update!"),this.eventBus.notify($7d5511ac354dcb04$export$ada873a34909da65.COMPONENT_RENDER)}render=()=>{this.element&&this.componentProps.events&&Object.keys(this.componentProps.events).forEach((e=>{this.element.removeEventListener(e,this.componentProps.events[e])})),this.element.innerHTML=this.template.compile(this.componentState),this.element=this.element.children[0],console.log(this.element.children),this.componentChildren&&this.renderChildren(),this.componentProps.events&&Object.keys(this.componentProps.events).forEach((e=>{this.element.addEventListener(e,this.componentProps.events[e].bind(this))}))};findChildrenAndState=e=>{const t={},a={};return Object.entries(e).forEach((([e,n])=>{Array.isArray(n)?n.every((e=>e instanceof $2eae050ae67d4152$export$d96a8827a60d6b69))&&(t[e]=[],n.forEach(((a,n)=>{t[e].push(a)}))):n instanceof $2eae050ae67d4152$export$d96a8827a60d6b69?t[e]=n:a[e]=n})),{children:t,simpleState:a}};createDummyChildren(){Object.entries(this.componentChildren).forEach((e=>{const t=e[0],a=e[1];if(Array.isArray(a))a.forEach(((e,a)=>{const n=`\n                <div id=${e.componentId}></div>\n            `;this.componentProps.state[t][a]=n}));else{const e=`\n                <div id=${a.componentId}></div>\n            `;this.componentProps.state[t]=e}}))}renderChildren(){const e=e=>{const t=`#${e.componentId.toString()}`,a=this.element.querySelector(t);if(!a)throw new Error("In template didnt find children layout!");console.error(a),a.replaceWith(e.getCompiledElement())};Object.values(this.componentChildren).forEach((t=>{Array.isArray(t)?t.forEach(e):e(t)}))}updateState=(e,t)=>{this.componentState[e]=t};getState=()=>({...this.componentState});getComponentChildren=()=>({...this.componentChildren});getCompiledElement=()=>this.element;renderDom=e=>{document.querySelector(e).appendChild(this.element),this.eventBus.notify($7d5511ac354dcb04$export$ada873a34909da65.COMPONENT_DID_MOUNT)}}var $lsS9H=parcelRequire("lsS9H");const $14dc47f5c3ea7fab$export$e13744a440bffbe5=new(0,$lsS9H.Template)('\n   <div class="chat">\n      {{!Sidebar!}}\n      {{!Main!}}\n\n   </div>\n   \n');var $lsS9H=parcelRequire("lsS9H");const $5071f4a91a36ced0$export$69e09d1f57cb718b=new(0,$lsS9H.Template)('\n<div class="sidebar">\n        <div class="chat_chats">\n            {{!chatItems!}}\n        </div>\n    <input type="text" class="sidebar_search">\n</div>\n');var $lsS9H=parcelRequire("lsS9H");const $310a98cb781dd690$export$b3f039d6d35e940d=new(0,$lsS9H.Template)('\n        <div class="chat-item">\n        <div class="chat-item_img">\n                        <img src="https://www.google.com/url?sa=i&url=https%3A%2F%2Favatarko.ru%2Fkartinka%2F32117&psig=AOvVaw0qWlT3XgCtRGL8gijD5Mev&ust=1665438264092000&source=images&cd=vfe&ved=0CAsQjRxqFwoTCMDNrZKP1PoCFQAAAAAdAAAAABAE" alt="avatar">\n        </div>\n        <div class="chat-item_desc">\n            <div class="chat-item_msg">\n                <span class="chat-item_user-name">{{ !userName!}}</span>\n                <span class="chat-item_last-msg">{{ !lastMsg! }}</span>\n            </div>\n        </div>\n        <div class="chat-item_info">\n            <div class="chat-item_time">\n                {{ !lastMsgTime! }}\n            </div>\n            <div class="chat-item_notification">\n                {{ !countOfNotification! }}\n            </div>\n        </div>\n    </div>\n    ');class $9931e99d9d235a8d$export$86e6771ca9311520 extends $2eae050ae67d4152$export$d96a8827a60d6b69{constructor(e){super($310a98cb781dd690$export$b3f039d6d35e940d,e)}}const $138600600f4ecf53$var$chats=[{imgSrc:"",userName:"Oleg",lastMsg:" some long text or not long a dnot know u know what i mean",lastMsgTime:`${new Date(12414).getHours()}:20`,countOfNotification:2},{imgSrc:"",userName:"Oleg",lastMsg:" some long text or not long a dnot know u know what i mean",lastMsgTime:`${new Date(12414).getHours()}:20`,countOfNotification:2},{imgSrc:"",userName:"Oleg",lastMsg:" some long text or not long a dnot know u know what i mean some long text or not long a dnot know u know what i meansome long text or not long a dnot know u know what i mean",lastMsgTime:`${new Date(12414).getHours()}:20`,countOfNotification:2},{imgSrc:"",userName:"Oleg",lastMsg:" some long text or not long a dnot know u know what i mean",lastMsgTime:`${new Date(12414).getHours()}:20`,countOfNotification:2},{imgSrc:"",userName:"Oleg",lastMsg:" some long text or not long a dnot know u know what i mean",lastMsgTime:`${new Date(12414).getHours()}:20`,countOfNotification:2},{imgSrc:"",userName:"Oleg",lastMsg:" some long text or not long a dnot know u know what i mean",lastMsgTime:`${new Date(12414).getHours()}:20`,countOfNotification:2}],$138600600f4ecf53$var$sidebarState={state:{chatItems:$138600600f4ecf53$var$chats.map((e=>new $9931e99d9d235a8d$export$86e6771ca9311520({state:e})))}};class $138600600f4ecf53$export$1ba59dacbcbf90fe extends $2eae050ae67d4152$export$d96a8827a60d6b69{constructor(e){super($5071f4a91a36ced0$export$69e09d1f57cb718b,e)}}const $138600600f4ecf53$var$SidebarComponent=new $138600600f4ecf53$export$1ba59dacbcbf90fe($138600600f4ecf53$var$sidebarState);var $138600600f4ecf53$export$2e2bcd8739ae039=$138600600f4ecf53$var$SidebarComponent,$lsS9H=parcelRequire("lsS9H");const $d0d7d8957d8b8034$export$e26c86124a0f221e=new(0,$lsS9H.Template)('\n       <div class="main">\n        {{ !Header! }}\n        {{ !Messages! }}\n        {{ !ControlPanel! }}\n        </div>\n');var $lsS9H=parcelRequire("lsS9H");const $16c93a6bbb346d72$export$cbe66ba5a24d87ce=()=>'\n<svg width="3" height="16" viewBox="0 0 3 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<circle cx="1.5" cy="2" r="1.5" fill="#1E1E1E"/>\n<circle cx="1.5" cy="8" r="1.5" fill="#1E1E1E"/>\n<circle cx="1.5" cy="14" r="1.5" fill="#1E1E1E"/>\n</svg>\n\n',$dbe7e14458e42640$export$dbd39ed0fa3f5b27=new(0,$lsS9H.Template)(`\n        <div class="header">\n        <div class="header_user">\n            <div class="header_avatar">\n                <img src="" alt="">\n            </div>\n            <div class="header_name">\n                <span>\n                    {{ !userName! }}\n                </span>\n            </div>\n        </div>\n        <button class="btn header_optionsBtn">\n            ${$16c93a6bbb346d72$export$cbe66ba5a24d87ce()}\n        </button>\n    </div>\n`);class $62ffb795d904da25$var$Header extends $2eae050ae67d4152$export$d96a8827a60d6b69{constructor(e){super($dbe7e14458e42640$export$dbd39ed0fa3f5b27,e)}}const $62ffb795d904da25$export$5be6d1e4b3a88225=new $62ffb795d904da25$var$Header({state:{userName:"Oleg"}});var $lsS9H=parcelRequire("lsS9H");const $d99b6debb42f4ac4$export$ae3cc75cad1f82d3=new(0,$lsS9H.Template)('\n    <div class="messages"> \n        {{ !messages! }}\n    </div>\n');var $lsS9H=parcelRequire("lsS9H");const $f1ed9c2a49cc1508$export$58500ae1f4c10db9=new(0,$lsS9H.Template)('\n            <div class="message {{ if ( !user! ==="home") then {message__my} }}">\n            <div class="message_info">\n                <p class="message_time"></p>\n                <div class="message_check">\n                    check\n                </div>\n            </div>\n            <p class="message_text">\n                {{ !messageText! }}\n            </p>\n            </div>\n    ');class $8c9b7ea4e4daec25$export$f69c19e57285b83a extends $2eae050ae67d4152$export$d96a8827a60d6b69{constructor(e){super($f1ed9c2a49cc1508$export$58500ae1f4c10db9,e)}}const $a4d70660fd790114$var$messagesData=[{user:'"user"',messageText:"Привет! Смотри, тут всплыл интересный кусок лунной космической истории — НАСА в какой-то момент попросила Хассельблад адаптировать модель SWC для полетов на Луну. Сейчас мы все знаем что астронавты летали с моделью 500 EL — и к слову говоря, все тушки этих камер все еще находятся на поверхности Луны, так как астронавты с собой забрали только кассеты с пленкой Хассельблад в итоге адаптировал SWC для космоса, но что-то пошло не так и на ракету они так никогда и не попали. Всего их было произведено 25 штук, одну из них недавно продали на аукционе за 45000 евро."},{user:'"home"',messageText:"Hello!"},{user:'"some"',messageText:"Hello!"}],$a4d70660fd790114$var$MessagesProps={state:{messages:$a4d70660fd790114$var$messagesData.map((e=>new $8c9b7ea4e4daec25$export$f69c19e57285b83a({state:e})))},text:"hello"};class $a4d70660fd790114$var$Messages extends $2eae050ae67d4152$export$d96a8827a60d6b69{constructor(e){super($d99b6debb42f4ac4$export$ae3cc75cad1f82d3,e)}}const $a4d70660fd790114$export$6423fa4ca20a8fff=new $a4d70660fd790114$var$Messages($a4d70660fd790114$var$MessagesProps);var $lsS9H=parcelRequire("lsS9H");const $a41663b4def1242f$export$cb39c6bd5df727ba=new(0,$lsS9H.Template)('\n    <div class="control-panel">\n        <form class="control-panel_form">\n        <button class="control-panel_btn">\n            Option\n        </button>\n            <input type="text">\n            <button type="submit">\n                отпр\n            </button>\n        </form>\n    </div>\n');class $4144e59b7ddd5114$export$41daf28bb61ded76 extends $2eae050ae67d4152$export$d96a8827a60d6b69{constructor(e){super($a41663b4def1242f$export$cb39c6bd5df727ba,e)}}const $4144e59b7ddd5114$export$76da6b629ee357=new $4144e59b7ddd5114$export$41daf28bb61ded76({state:{}}),$583a429731fc2a1a$var$mainProps={state:{Header:$62ffb795d904da25$export$5be6d1e4b3a88225,Messages:$a4d70660fd790114$export$6423fa4ca20a8fff,ControlPanel:$4144e59b7ddd5114$export$76da6b629ee357}};class $583a429731fc2a1a$var$Main extends $2eae050ae67d4152$export$d96a8827a60d6b69{constructor(e){super($d0d7d8957d8b8034$export$e26c86124a0f221e,e)}}const $583a429731fc2a1a$export$5ff9e46e0b0ff25f=new $583a429731fc2a1a$var$Main($583a429731fc2a1a$var$mainProps),$1ca116013368b965$var$chatLayoutProps={state:{Sidebar:$138600600f4ecf53$export$2e2bcd8739ae039,Main:$583a429731fc2a1a$export$5ff9e46e0b0ff25f}};class $1ca116013368b965$var$ChatLayout extends $2eae050ae67d4152$export$d96a8827a60d6b69{constructor(e){super($14dc47f5c3ea7fab$export$e13744a440bffbe5,e)}}const $1ca116013368b965$export$7b5ee86237a00352=new $1ca116013368b965$var$ChatLayout($1ca116013368b965$var$chatLayoutProps);$1ca116013368b965$export$7b5ee86237a00352.renderDom("#CHAT")})();
//# sourceMappingURL=index.b5608514.js.map
